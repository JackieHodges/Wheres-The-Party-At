module.exports=function(e){function t(o){if(n[o])return n[o].exports;var r=n[o]={i:o,l:!1,exports:{}};return e[o].call(r.exports,r,r.exports,t),r.l=!0,r.exports}var n={};return t.m=e,t.c=n,t.d=function(e,n,o){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:o})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=2)}([function(e,t,n){"use strict";e.exports=n(3)},function(e,t,n){e.exports=n(7)()},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),s=n(0),i=o(s),c=n(1),f=o(c),d=n(9),p=o(d),h=n(11),v=o(h),m=n(12),y=o(m),b=function(e){function t(){var e,n,o,u;r(this,t);for(var l=arguments.length,s=Array(l),i=0;i<l;i++)s[i]=arguments[i];return n=o=a(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(s))),o.state={showResult:!1,showSetting:!1,data:o.props.data,voted:o.props.clientId&&!o.props.data.multiple&&o.props.data.voters&&o.props.data.voters.indexOf(o.props.clientId)>-1||!1},o.setData=function(e){o.setState(function(){return{data:e,showSetting:!1}})},o.expandVote=function(e,t){var n=o.props.onExpand;return o.setState(function(){return{data:e}}),!n||"function"!=typeof n||n(e,t)},o.goToSetting=function(){o.setState(function(){return{showSetting:!0}})},o.toggleView=function(){o.setState(function(e){return{showResult:!e.showResult}})},o.closeVote=function(){var e=o.props.onClose,t=o.state.data;t.closed=!0,o.setState(function(){return{data:t}}),e&&"function"==typeof e&&e(t)},o.resetVote=function(){var e=o.props.onReset,t=o.state.data;t.voters=[],t.closed=!1,t.items.forEach(function(e){e.count=0,e.total=0,e.voters=[],e.upvoters=[],e.downvoters=[],e.voted=null}),o.setState(function(){return{data:t,voted:!1}}),e&&"function"==typeof e&&e(t)},o.upvote=function(e,t){return function(){var n=o.props,r=n.onUpvote,a=n.clientId,u=o.state.data,l=Object.assign({},u),s=l.items,i=s.reduce(function(e,t){return t.total||(t.total=t.count),e+t.total},0);if(s[e].count+=1,s[e].total+=1,s[e].voted=!0,s[e].voters||(s[e].voters=[]),s[e].downvoters||(s[e].downvoters=[]),s[e].upvoters||(s[e].upvoters=[]),s[e].reasons||(s[e].reasons=[]),s[e].voters.push(a),s[e].upvoters.push(a),s[e].reason&&(!t||!t.trim()))return!1;t&&s[e].reasons.push(t.trim()),l.voters?-1===l.voters.indexOf(a)&&l.voters.push(a):l.voters=[a];var c={index:e,item:s[e],voter:a};if(o.setState(function(){return{voted:!0,data:l}}),r&&"function"==typeof r&&r(l,c),l.autoClose){if(i+1>=l.autoClose)return o.closeVote()}return!0}},o.downvote=function(e,t){return function(){var n=o.props,r=n.clientId,a=n.onDownvote,u=o.state.data,l=Object.assign({},u),s=l.items,i=s.reduce(function(e,t){return t.total||(t.total=t.count),e+t.total},0);if(s[e].count-=1,s[e].total+=1,s[e].voted=!0,s[e].voters||(s[e].voters=[]),s[e].downvoters||(s[e].downvoters=[]),s[e].upvoters||(s[e].upvoters=[]),s[e].reasons||(s[e].reasons=[]),s[e].reason&&(!t||!t.trim()))return!1;t&&s[e].reasons.push(t.trim()),s[e].voters.push(r),s[e].downvoters.push(r),l.voters?-1===l.voters.indexOf(r)&&l.voters.push(r):l.voters=[r];var c={index:e,item:s[e],voter:r};if(o.setState(function(){return{voted:!0,data:l}}),a&&"function"==typeof a&&a(l,c),l.autoClose){if(i+1>=l.autoClose)return o.closeVote()}return!0}},u=n,a(o,u)}return u(t,e),l(t,[{key:"componentWillReceiveProps",value:function(e){e.data&&this.setState(function(){return{data:e.data}})}},{key:"render",value:function(){var e=this.state,n=e.voted,o=e.data,r=e.showSetting,a=e.showResult,u=this.props,l=u.onCreate,s=u.errorMessage,c=u.onUpvote,f=u.onEdit,d=u.onDownvote,h=u.clientId,m=u.isAdmin,b=o.closed,g=o.title&&(b||a),x=o.expansion&&(!this.state.voted||o.multiple),C=Object.assign({},t.defaultProps.text,this.props.text),w=Object.assign({},t.defaultProps.styles,this.props.styles);return i.default.createElement("div",{className:w.voteWrapper},o.title&&!r?i.default.createElement("div",{id:g?"result-view":"vote-view"},m&&f&&i.default.createElement("button",{className:w.settingButton,onClick:this.goToSetting},C.settingButtonText),i.default.createElement("div",{className:w.voteTitle},o.title),i.default.createElement(y.default,{voted:n,data:o,styles:w,text:C,upvote:this.upvote,downvote:this.downvote,clientId:h,onUpvote:c,onDownvote:d,resultView:g}),x&&!o.closed&&i.default.createElement(v.default,{data:o,clientId:h,styles:w,text:C,expandVote:this.expandVote}),i.default.createElement("div",{className:w.buttonWrapper},!o.closed&&i.default.createElement("button",{className:a?w.goBackButton:w.resultButton,onClick:this.toggleView},a?C.goBackButtonText:C.resultButtonText),m&&i.default.createElement("button",{className:w.resetButton,onClick:this.resetVote},C.resetButtonText),m&&!o.closed&&i.default.createElement("button",{className:w.closeButton,onClick:this.closeVote},C.closeButtonText))):i.default.createElement(p.default,{styles:w,text:C,clientId:h,setData:this.setData,data:o,errorMessage:s,onCreate:l,onEdit:f,setting:r}))}}]),t}(s.Component);b.propTypes={isAdmin:f.default.bool,clientId:f.default.oneOfType([f.default.string,f.default.number]),data:f.default.shape({title:f.default.string,voters:f.default.arrayOf(f.default.oneOfType([f.default.string,f.default.number])),items:f.default.arrayOf(f.default.object),closed:f.default.bool,multiple:f.default.bool,expansion:f.default.bool,autoClose:f.default.number,downvote:f.default.bool,showTotal:f.default.bool,creator:f.default.oneOfType([f.default.string,f.default.number])}),styles:f.default.shape({voteWrapper:f.default.string,voteTitle:f.default.string,titleInput:f.default.string,addWrapper:f.default.string,addInput:f.default.string,addButton:f.default.string,itemTitle:f.default.string,itemCount:f.default.string,itemWrapper:f.default.string,buttonWrapper:f.default.string,removeButton:f.default.string,createButton:f.default.string,resultButton:f.default.string,goBackButton:f.default.string,voteButtons:f.default.string,voteButton:f.default.string,downvoteButton:f.default.string,closeButton:f.default.string,resetButton:f.default.string,errorMessage:f.default.string,votedText:f.default.string,expansionButton:f.default.string,expansionInput:f.default.string,settingButton:f.default.string}),text:f.default.shape({titleInputPlaceholder:f.default.string,addInputPlaceholder:f.default.string,addButtonText:f.default.string,removeButtonText:f.default.string,closeButtonText:f.default.string,resetButtonText:f.default.string,createButtonText:f.default.string,resultButtonText:f.default.string,goBackButtonText:f.default.string,voteButtonText:f.default.string,downvoteCheckbox:f.default.string,downvoteButtonText:f.default.string,votedText:f.default.string,totalText:f.default.string,multipleCheckbox:f.default.string,expansionCheckbox:f.default.string,showTotalCheckbox:f.default.string,expansionPlaceholder:f.default.string,expansionButtonText:f.default.string,autoCloseText:f.default.string,autoClosePlaceholder:f.default.string,settingButtonText:f.default.string,closeCheckbox:f.default.string,reasonCheckbox:f.default.string,reasonInputPlaceholder:f.default.string}),errorMessage:f.default.shape({notEnoughItems:f.default.string,noTitle:f.default.string}),onCreate:f.default.func,onEdit:f.default.func,onUpvote:f.default.func,onDownvote:f.default.func,onExpand:f.default.func,onReset:f.default.func,onClose:f.default.func},b.defaultProps={isAdmin:!1,clientId:null,data:{title:"",items:[],voters:[],closed:!1,multiple:!1,expansion:!1,showTotal:!0,downvote:!1,autoClose:void 0},onCreate:null,onEdit:null,onUpvote:null,onDownvote:null,onExpand:null,onClose:null,onReset:null,text:{addButtonText:"Add",titleInputPlaceholder:"Title of this vote",addInputPlaceholder:"Title of a new option",removeButtonText:"Ã—",closeButtonText:"Close vote",resetButtonText:"Reset vote",createButtonText:"Create",resultButtonText:"Show result",goBackButtonText:"Go back",voteButtonText:"Upvote",downvoteCheckbox:"Allow downvote?",downvoteButtonText:"Downvote",votedText:"Voted",totalText:"Total",multipleCheckbox:"Multiple choice?",expansionCheckbox:"Expandable?",showTotalCheckbox:"Show total?",expansionPlaceholder:"Add an option yourself",expansionButtonText:"Add",autoCloseText:"AutoClose number: ",autoClosePlaceholder:"AutoClose number",settingButtonText:"Settings",editButtonText:"Edit",closeCheckbox:"Closed?",reasonCheckbox:"Need reason?",reasonInputPlaceholder:"Type reason why you voted this"},errorMessage:{notEnoughItems:"Need at least 2 items!",noTitle:"Need a title!"},styles:{}},t.default=b},function(e,t,n){"use strict";function o(e){for(var t=arguments.length-1,n="Minified React error #"+e+"; visit http://facebook.github.io/react/docs/error-decoder.html?invariant="+e,o=0;o<t;o++)n+="&args[]="+encodeURIComponent(arguments[o+1]);throw t=Error(n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."),t.name="Invariant Violation",t.framesToPop=1,t}function r(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||j}function a(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||j}function u(){}function l(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||j}function s(e,t,n){var o,r={},a=null,u=null;if(null!=t)for(o in void 0!==t.ref&&(u=t.ref),void 0!==t.key&&(a=""+t.key),t)S.call(t,o)&&!B.hasOwnProperty(o)&&(r[o]=t[o]);var l=arguments.length-2;if(1===l)r.children=n;else if(1<l){for(var s=Array(l),i=0;i<l;i++)s[i]=arguments[i+2];r.children=s}if(e&&e.defaultProps)for(o in l=e.defaultProps)void 0===r[o]&&(r[o]=l[o]);return{$$typeof:w,type:e,key:a,ref:u,props:r,_owner:R.current}}function i(e){return"object"==typeof e&&null!==e&&e.$$typeof===w}function c(e){var t={"=":"=0",":":"=2"};return"$"+(""+e).replace(/[=:]/g,function(e){return t[e]})}function f(e,t,n,o){if(M.length){var r=M.pop();return r.result=e,r.keyPrefix=t,r.func=n,r.context=o,r.count=0,r}return{result:e,keyPrefix:t,func:n,context:o,count:0}}function d(e){e.result=null,e.keyPrefix=null,e.func=null,e.context=null,e.count=0,10>M.length&&M.push(e)}function p(e,t,n,r){var a=typeof e;"undefined"!==a&&"boolean"!==a||(e=null);var u=!1;if(null===e)u=!0;else switch(a){case"string":case"number":u=!0;break;case"object":switch(e.$$typeof){case w:case k:case T:case E:u=!0}}if(u)return n(r,e,""===t?"."+h(e,0):t),1;if(u=0,t=""===t?".":t+":",Array.isArray(e))for(var l=0;l<e.length;l++){a=e[l];var s=t+h(a,l);u+=p(a,s,n,r)}else if(null===e||void 0===e?s=null:(s=_&&e[_]||e["@@iterator"],s="function"==typeof s?s:null),"function"==typeof s)for(e=s.call(e),l=0;!(a=e.next()).done;)a=a.value,s=t+h(a,l++),u+=p(a,s,n,r);else"object"===a&&(n=""+e,o("31","[object Object]"===n?"object with keys {"+Object.keys(e).join(", ")+"}":n,""));return u}function h(e,t){return"object"==typeof e&&null!==e&&null!=e.key?c(e.key):t.toString(36)}function v(e,t){e.func.call(e.context,t,e.count++)}function m(e,t,n){var o=e.result,r=e.keyPrefix;e=e.func.call(e.context,t,e.count++),Array.isArray(e)?y(e,o,n,x.thatReturnsArgument):null!=e&&(i(e)&&(t=r+(!e.key||t&&t.key===e.key?"":(""+e.key).replace(N,"$&/")+"/")+n,e={$$typeof:w,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}),o.push(e))}function y(e,t,n,o,r){var a="";null!=n&&(a=(""+n).replace(N,"$&/")+"/"),t=f(t,a,o,r),null==e||p(e,"",m,t),d(t)}/** @license React v16.2.0
 * react.production.min.js
 *
 * Copyright (c) 2013-present, Facebook, Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */
var b=n(4),g=n(5),x=n(6),C="function"==typeof Symbol&&Symbol.for,w=C?Symbol.for("react.element"):60103,k=C?Symbol.for("react.call"):60104,T=C?Symbol.for("react.return"):60105,E=C?Symbol.for("react.portal"):60106,O=C?Symbol.for("react.fragment"):60107,_="function"==typeof Symbol&&Symbol.iterator,j={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}};r.prototype.isReactComponent={},r.prototype.setState=function(e,t){"object"!=typeof e&&"function"!=typeof e&&null!=e&&o("85"),this.updater.enqueueSetState(this,e,t,"setState")},r.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},u.prototype=r.prototype;var I=a.prototype=new u;I.constructor=a,b(I,r.prototype),I.isPureReactComponent=!0;var P=l.prototype=new u;P.constructor=l,b(P,r.prototype),P.unstable_isAsyncReactComponent=!0,P.render=function(){return this.props.children};var R={current:null},S=Object.prototype.hasOwnProperty,B={key:!0,ref:!0,__self:!0,__source:!0},N=/\/+/g,M=[],A={Children:{map:function(e,t,n){if(null==e)return e;var o=[];return y(e,o,null,t,n),o},forEach:function(e,t,n){if(null==e)return e;t=f(null,null,t,n),null==e||p(e,"",v,t),d(t)},count:function(e){return null==e?0:p(e,"",x.thatReturnsNull,null)},toArray:function(e){var t=[];return y(e,t,null,x.thatReturnsArgument),t},only:function(e){return i(e)||o("143"),e}},Component:r,PureComponent:a,unstable_AsyncComponent:l,Fragment:O,createElement:s,cloneElement:function(e,t,n){var o=b({},e.props),r=e.key,a=e.ref,u=e._owner;if(null!=t){if(void 0!==t.ref&&(a=t.ref,u=R.current),void 0!==t.key&&(r=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(s in t)S.call(t,s)&&!B.hasOwnProperty(s)&&(o[s]=void 0===t[s]&&void 0!==l?l[s]:t[s])}var s=arguments.length-2;if(1===s)o.children=n;else if(1<s){l=Array(s);for(var i=0;i<s;i++)l[i]=arguments[i+2];o.children=l}return{$$typeof:w,type:e.type,key:r,ref:a,props:o,_owner:u}},createFactory:function(e){var t=s.bind(null,e);return t.type=e,t},isValidElement:i,version:"16.2.0",__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:{ReactCurrentOwner:R,assign:b}},q=Object.freeze({default:A}),V=q&&A||q;e.exports=V.default?V.default:V},function(e,t,n){"use strict";function o(e){if(null===e||void 0===e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}/*
object-assign
(c) Sindre Sorhus
@license MIT
*/
var r=Object.getOwnPropertySymbols,a=Object.prototype.hasOwnProperty,u=Object.prototype.propertyIsEnumerable;e.exports=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(t).map(function(e){return t[e]}).join(""))return!1;var o={};return"abcdefghijklmnopqrst".split("").forEach(function(e){o[e]=e}),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},o)).join("")}catch(e){return!1}}()?Object.assign:function(e,t){for(var n,l,s=o(e),i=1;i<arguments.length;i++){n=Object(arguments[i]);for(var c in n)a.call(n,c)&&(s[c]=n[c]);if(r){l=r(n);for(var f=0;f<l.length;f++)u.call(n,l[f])&&(s[l[f]]=n[l[f]])}}return s}},function(e,t,n){"use strict";var o={};e.exports=o},function(e,t,n){"use strict";function o(e){return function(){return e}}var r=function(){};r.thatReturns=o,r.thatReturnsFalse=o(!1),r.thatReturnsTrue=o(!0),r.thatReturnsNull=o(null),r.thatReturnsThis=function(){return this},r.thatReturnsArgument=function(e){return e},e.exports=r},function(e,t,n){"use strict";function o(){}var r=n(8);e.exports=function(){function e(e,t,n,o,a,u){if(u!==r){var l=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw l.name="Invariant Violation",l}}function t(){return e}e.isRequired=e;var n={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t};return n.checkPropTypes=o,n.PropTypes=n,n}},function(e,t,n){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},s=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),i=n(0),c=o(i),f=n(1),d=o(f),p=n(10),h=o(p),v=function(e){function t(){var e,n,o,u;r(this,t);for(var s=arguments.length,i=Array(s),c=0;c<s;c++)i[c]=arguments[c];return n=o=a(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),o.state={addInput:"",voteTitle:o.props.data?o.props.data.title:"",items:o.props.data?o.props.data.items:[],multipleCheck:!!o.props.data&&o.props.data.multiple,expansionCheck:!!o.props.data&&o.props.data.expansion,downvoteCheck:!!o.props.data&&o.props.data.downvote,autoCloseNumber:o.props.data?o.props.data.autoClose:"",showTotalCheck:!o.props.data||o.props.data.showTotal,closeCheck:!!o.props.data&&o.props.data.closed,errorMessage:!1,showMessage:null,reasonCheck:!1},o.onVoteTitleChange=function(e){var t=e.target.value;o.setState(function(){return{voteTitle:t}})},o.onAddInputChange=function(e){var t=e.target.value;o.setState(function(){return{addInput:t}})},o.onCloseCheckChange=function(e){var t=e.target.checked;o.setState(function(){return{closeCheck:t}})},o.onMultipleCheckChange=function(e){var t=e.target.checked;o.setState(function(){return{multipleCheck:t}})},o.onExpansionCheckChange=function(e){var t=e.target.checked;o.setState(function(){return{expansionCheck:t}})},o.onDownvoteCheckChange=function(e){var t=e.target.checked;o.setState(function(){return{downvoteCheck:t}})},o.onShowTotalCheckChange=function(e){var t=e.target.checked;o.setState(function(){return{showTotalCheck:t}})},o.onAutoCloseChange=function(e){var t=e.target.value.trim();o.setState(function(){return{autoCloseNumber:t}})},o.onReasonChange=function(e){var t=e.target.checked;o.setState(function(){return{reasonCheck:t}})},o.onRemoveItem=function(e){var t=o.state.items;t=t.filter(function(t,n){return n!==e}),o.setState(function(){return{items:t}})},o.addItem=function(){var e=o.state,t=e.addInput,n=e.items,r=e.reasonCheck;t&&t.trim()&&(n.push({title:t.trim(),count:0,total:0,voters:[],upvoters:[],downvoters:[],reason:r}),o.setState(function(){return{items:n,addInput:"",reasonCheck:!1}}))},o.editVote=function(){var e=o.props,t=e.errorMessage,n=t.noTitle,r=t.notEnoughItems,a=e.data,u=e.setData,s=e.onEdit,i=o.state.items,c=o.state.voteTitle.trim(),f=o.state.downvoteCheck,d=o.state.multipleCheck,p=o.state.closeCheck,h=o.state.expansionCheck,v=o.state.showTotalCheck,m=!!o.state.autoCloseNumber&&parseInt(o.state.autoCloseNumber,10),y=l({},a,{title:c,voters:[],items:i,closed:p,multiple:d,expansion:h,autoClose:!Number.isNaN(m)&&m,downvote:f,showTotal:v});return c?!y.expansion&&y.items.length<2?o.setState(function(){return{showMessage:!0,errorMessage:r}}):(o.setState(function(){return{showMessage:!1}}),u(y),s?s&&"function"==typeof s&&s(y):console.warn("Provide onEdit prop as a callback function to save edited vote data")):o.setState(function(){return{showMessage:!0,errorMessage:n}})},o.createVote=function(){var e=o.props,t=e.onCreate,n=e.errorMessage,r=n.noTitle,a=n.notEnoughItems,u=e.setData,l=e.clientId,s=o.state.items,i=o.state.voteTitle,c=o.state.closeCheck,f=o.state.downvoteCheck,d=o.state.multipleCheck,p=o.state.expansionCheck,h=o.state.showTotalCheck,v=!!o.state.autoCloseNumber&&parseInt(o.state.autoCloseNumber,10);if(!i||!i.trim())return o.setState(function(){return{showMessage:!0,errorMessage:r}});var m={title:i.trim(),voters:[],items:s,closed:c,multiple:d,expansion:p,autoClose:!Number.isNaN(v)&&v,downvote:f,showTotal:h,creator:l};return!m.expansion&&m.items.length<2?o.setState(function(){return{showMessage:!0,errorMessage:a}}):(o.setState(function(){return{showMessage:!1}}),u(m),t?t&&"function"==typeof t&&t(m):console.warn("Provide onCreate prop as a callback function to save new vote data"))},u=n,a(o,u)}return u(t,e),s(t,[{key:"componentDidMount",value:function(){var e=this.props.onCreate;e&&"function"==typeof e||console.warn("onCreated is required for creating new vote")}},{key:"render",value:function(){var e=this.props,t=e.styles,n=e.text,o=e.setting,r=this.state,a=r.voteTitle,u=r.items,l=r.downvoteCheck,s=r.showTotalCheck,i=r.addInput,f=r.multipleCheck,d=r.expansionCheck,p=r.autoCloseNumber,v=r.errorMessage,m=r.showMessage,y=r.closeCheck,b=r.reasonCheck;return c.default.createElement("div",{id:"creation-view"},c.default.createElement("input",{className:t.titleInput,value:a,onChange:this.onVoteTitleChange,placeholder:n.titleInputPlaceholder}),c.default.createElement("div",{className:t.addWrapper},c.default.createElement(h.default,{onRemove:this.onRemoveItem,items:u,styles:t,text:n}),c.default.createElement("div",null,c.default.createElement("input",{className:t.addInput,value:i,onChange:this.onAddInputChange,placeholder:n.addInputPlaceholder}),c.default.createElement("button",{className:t.addButton,onClick:this.addItem},n.addButtonText),c.default.createElement("label",{htmlFor:"reason"},n.reasonCheckbox,c.default.createElement("input",{id:"reason",type:"checkbox",checked:b,onChange:this.onReasonChange}))),c.default.createElement("div",null,c.default.createElement("label",{htmlFor:"multiple"},n.multipleCheckbox,c.default.createElement("input",{id:"multiple",type:"checkbox",checked:f,onChange:this.onMultipleCheckChange}))),c.default.createElement("div",null,c.default.createElement("label",{htmlFor:"expansion"},n.expansionCheckbox,c.default.createElement("input",{id:"expansion",type:"checkbox",checked:d,onChange:this.onExpansionCheckChange}))),c.default.createElement("div",null,c.default.createElement("label",{htmlFor:"autoClose"},n.autoCloseText,c.default.createElement("input",{id:"autoClose",value:p,onChange:this.onAutoCloseChange,placeholder:n.autoClosePlaceholder}))),c.default.createElement("div",null,c.default.createElement("label",{htmlFor:"downvote"},n.downvoteCheckbox,c.default.createElement("input",{id:"downvote",type:"checkbox",checked:l,onChange:this.onDownvoteCheckChange}))),c.default.createElement("div",null,c.default.createElement("label",{htmlFor:"showTotal"},n.showTotalCheckbox,c.default.createElement("input",{id:"showTotal",type:"checkbox",checked:s,onChange:this.onShowTotalCheckChange}))),c.default.createElement("div",null,c.default.createElement("label",{htmlFor:"closed"},n.closeCheckbox,c.default.createElement("input",{id:"closed",type:"checkbox",checked:y,onChange:this.onCloseCheckChange})))),m&&c.default.createElement("div",{className:t.errorMessage},v),c.default.createElement("div",{className:t.buttonWrapper},c.default.createElement("button",{className:t.createButton,onClick:o?this.editVote:this.createVote},o?n.editButtonText:n.createButtonText)))}}]),t}(i.Component);v.propTypes={styles:d.default.objectOf(d.default.any).isRequired,text:d.default.objectOf(d.default.any).isRequired,onCreate:d.default.func,onEdit:d.default.func,setData:d.default.func.isRequired,errorMessage:d.default.objectOf(d.default.any).isRequired,clientId:d.default.oneOfType([d.default.string,d.default.number]),data:d.default.objectOf(d.default.any),setting:d.default.bool.isRequired},v.defaultProps={clientId:null,data:null,onEdit:null,onCreate:null},t.default=v},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=n(0),s=o(l),i=n(1),c=o(i),f=function(e){function t(){var e,n,o,u;r(this,t);for(var l=arguments.length,i=Array(l),c=0;c<l;c++)i[c]=arguments[c];return n=o=a(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),o.render=function(){var e=o.props,t=e.items,n=e.styles,r=e.text;return s.default.createElement("div",null,t.map(function(e,t){var a="react-vote-item-"+t;return s.default.createElement("div",{key:a,className:n.itemWrapper},s.default.createElement("div",{className:n.itemTitle,title:e.title},e.title),s.default.createElement("button",{onClick:function(){return o.props.onRemove(t)},className:n.removeButton},r.removeButtonText))}))},u=n,a(o,u)}return u(t,e),t}(l.Component);f.propTypes={items:c.default.arrayOf(c.default.any).isRequired,styles:c.default.objectOf(c.default.any).isRequired,text:c.default.objectOf(c.default.any).isRequired,onRemove:c.default.func.isRequired},t.default=f},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),s=n(0),i=o(s),c=n(1),f=o(c),d=function(e){function t(){var e,n,o,u;r(this,t);for(var l=arguments.length,s=Array(l),i=0;i<l;i++)s[i]=arguments[i];return n=o=a(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(s))),o.state={expansionInput:""},o.onExpansionInputChange=function(e){var t=e.target.value;o.setState(function(){return{expansionInput:t}})},o.expandVote=function(){var e=o.state.expansionInput;if(!e||!e.trim())return!1;var t=o.props.data,n={title:e.trim(),count:0,total:0,voters:[],upvoters:[],downvoters:[],adder:o.props.clientId};return t.items.push(n),o.setState(function(){return{expansionInput:""}}),o.props.expandVote(t,n)},u=n,a(o,u)}return u(t,e),l(t,[{key:"render",value:function(){var e=this.props,t=e.styles,n=e.text;return i.default.createElement("div",{className:t.itemWrapper},i.default.createElement("input",{className:t.expansionInput,value:this.state.expansionInput,onChange:this.onExpansionInputChange,placeholder:n.expansionPlaceholder}),i.default.createElement("button",{className:t.expansionButton,onClick:this.expandVote},n.expansionButtonText))}}]),t}(s.Component);d.propTypes={styles:f.default.objectOf(f.default.any).isRequired,text:f.default.objectOf(f.default.any).isRequired,expandVote:f.default.func.isRequired,clientId:f.default.oneOfType([f.default.string,f.default.number]),data:f.default.objectOf(f.default.any).isRequired},d.defaultProps={clientId:null},t.default=d},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=n(0),s=o(l),i=n(1),c=o(i),f=function(e){function t(){var e,n,o,u;r(this,t);for(var l=arguments.length,i=Array(l),c=0;c<l;c++)i[c]=arguments[c];return n=o=a(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),o.state={showReasonInput:-1,reasonType:!0,reason:""},o.onReasonChange=function(e){var t=e.target.value;o.setState({reason:t})},o.showReasonInput=function(e,t){return function(){o.setState({showReasonInput:e,reasonType:t})}},o.render=function(){var e=o.props,t=e.clientId,n=e.data,r=n.title,a=n.items,u=n.multiple,l=n.downvote,i=n.showTotal,c=e.styles,f=e.text,d=e.voted,p=e.resultView,h=o.state,v=h.reason,m=h.reasonType,y=h.showReasonInput,b=u||!d,g=a.reduce(function(e,t){return e+t.count},0),x=a.reduce(function(e,t){return t.total||(t.total=t.count),e+t.total},0),C=g===x?"":"("+x+")";return s.default.createElement("div",null,a.map(function(e,n){var a=t&&e.voters&&e.voters.indexOf(t)>-1,u=0===g?0:(e.count/g*100).toFixed(2),i="react-vote-item-"+n,d=e.voted||a?s.default.createElement("span",{className:c.votedText},f.votedText):b&&s.default.createElement("span",{className:c.voteButtons},s.default.createElement("button",{onClick:e.reason?o.showReasonInput(n,!0):o.props.upvote(n),className:c.voteButton},f.voteButtonText),l&&s.default.createElement("button",{onClick:e.reason?o.showReasonInput(n,!1):o.props.downvote(n),className:c.downvoteButton},f.downvoteButtonText));return s.default.createElement("div",{key:i,className:c.itemWrapper},s.default.createElement("div",{className:c.itemTitle,title:e.title},e.title),r&&p?s.default.createElement("div",{className:c.itemCount},e.count+"("+u+"%)"):d,b&&y===n&&s.default.createElement("div",null,s.default.createElement("input",{id:"reason",onChange:o.onReasonChange,value:v,placeholder:f.reasonInputPlaceholder,className:c.expansionInput}),s.default.createElement("button",{className:c.expansionButton,onClick:m?o.props.upvote(n,v):o.props.downvote(n,v)},m?f.voteButtonText:f.downvoteButtonText)))}),p&&i&&s.default.createElement("div",{className:c.itemWrapper},s.default.createElement("div",{className:c.itemTitle},f.totalText),s.default.createElement("div",{className:c.itemCount},g,C)))},u=n,a(o,u)}return u(t,e),t}(l.Component);f.propTypes={data:c.default.objectOf(c.default.any).isRequired,clientId:c.default.oneOfType([c.default.string,c.default.number]),styles:c.default.objectOf(c.default.any).isRequired,text:c.default.objectOf(c.default.any).isRequired,voted:c.default.bool.isRequired,upvote:c.default.func.isRequired,downvote:c.default.func.isRequired,resultView:c.default.bool.isRequired},f.defaultProps={clientId:null},t.default=f}]);
//# sourceMappingURL=react-vote.js.map